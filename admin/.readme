**********Типы полей**********0 - цифровое поле1 - строка2 - текст с форматированием3 - hidden4 - в форме не выводится, но в запросах обновления/добавления фигурирует5 - в форме выводится через функцию showed_[название поля] , но в запросах не фигурирует, используется для кастомных блоков типа "список товаров в заказе"6 - чекбокс7 - текст без форматирования, но с автоподстановкой <br>8 - разделитель в форме с заголовком для выделения полей в отдельные блоки (после блока нужно ставить такой-же разделитель) 9 - выпадающий Древовидный список из другой таблицы (к примеру для parentId)10 - выпадающий список статических значений11 - поле для файла, в БД сохраняется имя файла а файл аполудится в userfiles/...12 - выпадающий список у которого в value пишутся не ИД, а name_1 из тбалицы вариантов13 - тип DATE с календариком14 - любой вложенный запрс (new Field("pnum","Кол-во клиник",14,1,0,"SELECT count(id) FROM clinics c WHERE c.city_id=cities.id OR c.city_id IN (SELECT id FROM cities c2 WHERE c2.parent_id=cities.id)"),)15 - цвет с колор-пиккером16 - текст без обработки (для сохранения кодов счетчиков и т.д.)17 - NULL**************************************************************************************************Если нужно прикреплять 1 файл к сущности создаем 2 поля:format  - хранит расширение файлаfilename - хранит имя файлаВ форме внизу автоматом появится инпут для выбора файла, файл загрузится в userfiles/[format]/[filename]*************************************************Локальные переменные классов - настройки сущности*************************************************no_del - в для рубрик запрещает удалениеvar $IMG_SIZE = 150; - размер маленькой картинкиvar $IMG_RESIZE_TYPE = 3; - тип ресайза (1 - ширина, 2 - высота, 3 - вписать в квадрат)var $IMG_BIG_SIZE = 800; - макс ширина большой картинкиvar $IMG_BIG_VSIZE = 800; - макс высота больщой картинкиvar $IMG_NUM = 5; - кол-во картинок в формеvar $FOLDER_IMAGES = 1; - включить раскидыание картинок сущности по папкам [table]/[id/1000]/var $IMG_FIELD = 'id'; - поле, которые используется для формирования названия картинки (изначально было crtdate)$TABLE_RUB_ASSOC - таблица связей если есть мультипривязка товаров$TABLE_UNDER_DOP - если нужно привязывать по ассоцу к Другой таблице рубрик$ECHO_NAME - поле, котрое будет выводиться первой колонкой в списке (название)$ECHO_ID - показывается рядом с именем в таблице$FIELD_ID - ALT id$FIELD_UNDER="suppliers_rub";$ONLY_IDvar $SEARCH_FIELD='products.name,products.about,products_brands.name,products_brands.name_ru';var $SEARCH_JOIN='LEFT JOIN products_brands ON (products_brands.id=products.brandID)';$SP_QUERY - для сущностиvar $SP_WHERE_AND="AND (SELECT count(id) FROM products WHERE products.section=categories_hl.id)>0";var $NO_LEFT_RUBS = 1; - отключается рубрикатор слеваvar $EDIT_AFTER_ADD = 1; после вставки запись сразу открывается для редактирования$EXTRA_PARAMS = 2 - 2 языка в значения параметров$SHOW_ALL = 1; - все итемы показать сразу в списке админки$FOLDER_IMAGES = 'content/images'; //НА ГЛОБАЛЬНОМ УРОВНЕ$FOLDER_IMAGES = 1; картинки сущности по папкам таблица/год-месяц$IMG_FIELD = 'id';$IMG_TYPE = "png";var $SUB_NUM = 1; - сколько в сабитемсах выводить штук	var $DRAW_MASK = 1; - накладывать на большую карнику PNG-маску"../img/mask.png"$RUBS_NO_UNDER = 1; - если сущность выступает рубрикой - то все записи выводятся подряд без учета under$RUBS_NOT_SHOW = 1; - у итемов, чтоб рубрики не показыватьASSOC_FIELD_UNDERASSOC_FIELD_ID*********************************************Функции классов, которые автоматом вызываются*********************************************beforeAdd(${"admin_$tablei"}->fld) - плучает массив Фиелдов таблицы, уже заполненный значениями из формы afterAdd($rownew) - после добавления, получает добавленную строку из БДbeforeEdit($row);afterEdit($row);beforeAjaxUpdate($id, $field, $value)onDelete($id) - вызывается перед удалением строки из базыpreTable() - результат этой функции выводится Перед таблицей-списком записей в catalog.phpfunction show_crtdate($row){	return date('d-m-Y',$row['crtdate']);}function show_userID($row){	return '<a href="items.php?tabler=&tablei=users&id='.$row['userID'].'#header"><u>'.$row['userID'].'</u></a>';}$.ajax({  type: "POST",  url: '/ajax/user/',  data: 'event=login&login='+login+'&pass='+pass,  success: function(answer) {  } });$TABLE_ADMINS - админы сайта CREATE TABLE `cat_rubs_assoc` (`recID` INT NOT NULL ,`under` INT NOT NULL ,INDEX ( `recID` , `under` )) ENGINE = InnoDB ;CREATE TABLE `files_assoc` (`table` VARCHAR( 50 ) CHARACTER SET cp1251 COLLATE cp1251_general_ci NOT NULL ,`recID` INT NOT NULL ,`fileID` INT NOT NULL ,INDEX ( `table` , `recID` , `fileID` )) ENGINE = InnoDB;CREATE TABLE `admins_log` (`id` INT NOT NULL AUTO_INCREMENT ,`login` VARCHAR( 50 ) CHARACTER SET cp1251 COLLATE cp1251_general_ci NOT NULL ,`ip` BIGINT NOT NULL ,`table` VARCHAR( 50 ) CHARACTER SET cp1251 COLLATE cp1251_general_ci NOT NULL ,`action` INT NOT NULL ,`recID` INT NOT NULL ,`crtdate` BIGINT NOT NULL ,PRIMARY KEY ( `id` )) ENGINE = MYISAM CHARACTER SET cp1251 COLLATE cp1251_general_ci;   ALTER TABLE `symptoms_illnesses` DROP FOREIGN KEY `symptom_id_fk` ,ADD FOREIGN KEY ( `symptom_id` ) REFERENCES `symptoms` (`id`) ON DELETE CASCADE ON UPDATE CASCADE ;ALTER TABLE `symptoms_illnesses` ADD FOREIGN KEY ( `illness_id` ) REFERENCES `illnesses` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;  